services:
  website:
    build: .
    container_name: website
    restart: unless-stopped
    ports:
      - "${HOST_PORT:-8080}:3000"
    environment:
      SITE_REPO: "https://github.com/camwolff02/website-infra.git"
      SITE_BRANCH: "main"
      LISTEN_PORT: "3000"
      # SERVE_SUBDIR: "web"   # if needed
    volumes:
      # Persist the git clone so restarts are fast and updates are incremental
      - website_repo:/site

volumes:
  website_repo:
